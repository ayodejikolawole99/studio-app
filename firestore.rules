/**
 * @fileoverview Firestore Security Rules for the canteen system.
 *
 * Core Philosophy:
 * This ruleset provides open read access (get, list) to employee data and feeding records
 * but prevents any unauthorized modification of data.
 *
 * Data Structure:
 * - /employees/{employeeId}: Stores employee profiles, with the employeeId as the document ID.
 * - /feedingRecords/{recordId}: Stores records of meal consumption events.
 *
 * Key Security Decisions:
 * - Open read access for both collections.
 * - No user-specific data trees (no /users/{userId} structure).
 * - All write operations are disallowed to prevent unauthorized modification in the prototype phase.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read employee profiles (get, list) but prevents any writes.
     * @path /employees/{employeeId}
     * @allow (get, list): Any user can retrieve or list employee profiles.
     * @deny (create, update, delete): No one can create, update, or delete employee profiles.
     * @principle Open read access, deny all writes.
     */
    match /employees/{employeeId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read feeding records (get, list) but prevents any writes.
     * @path /feedingRecords/{recordId}
     * @allow (get, list): Any user can retrieve or list feeding records.
     * @deny (create, update, delete): No one can create, update, or delete feeding records.
     * @principle Open read access, deny all writes.
     */
    match /feedingRecords/{recordId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }
  }
}